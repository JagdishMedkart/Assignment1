{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Assignment1/online-product-management/src/components/Layout/Spinner.tsx"],"sourcesContent":["import React from 'react'\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <>Loading...\r\n      <div\r\n        className=\"inline-block h-4 w-4 ml-3 animate-spin rounded-full border-2 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white\"\r\n        role=\"status\">\r\n        <span\r\n          className=\"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\"\r\n        ></span>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Spinner"],"names":[],"mappings":";;;;;AAEA,SAAS;IACP,qBACE;;YAAE;0BACA,8OAAC;gBACC,WAAU;gBACV,MAAK;0BACL,cAAA,8OAAC;oBACC,WAAU;;;;;;;;;;;;;AAKpB;uCAEe"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Assignment1/online-product-management/src/components/Auth/SigninComponent.tsx"],"sourcesContent":["/* eslint-disable react/no-unescaped-entities */\r\n\"use client\";\r\nimport React, { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Spinner from '../Layout/Spinner';\r\nimport { signIn } from 'next-auth/react';\r\nimport Image from 'next/image';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\ninterface User {\r\n  id?: number;\r\n  username: string;\r\n  email?: string;\r\n  role_id?: number;\r\n  isSuperAdmin?: boolean;\r\n  passwordHash?: string;\r\n}\r\n\r\nconst SignInPage: React.FC = () => {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isSubmitting, setSubmitting] = useState<boolean>(false);\r\n  const [errors, setErrors] = useState<{ email?: string; password?: string }>({});\r\n\r\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setEmail(value);\r\n\r\n    let emailError = '';\r\n    if (!value) {\r\n      emailError = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(value)) {\r\n      emailError = 'Email is invalid';\r\n    }\r\n    setErrors((prevErrors) => ({ ...prevErrors, email: emailError }));\r\n  };\r\n\r\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setPassword(value);\r\n\r\n    let passwordError = '';\r\n    if (!value) {\r\n      passwordError = 'Password is required';\r\n    }\r\n    setErrors((prevErrors) => ({ ...prevErrors, password: passwordError }));\r\n  };\r\n\r\n  const validate = () => {\r\n    let valid = true;\r\n    const errors: { email?: string; password?: string } = {};\r\n\r\n    if (!email) {\r\n      errors.email = 'Email is required';\r\n      valid = false;\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      errors.email = 'Email is invalid';\r\n      valid = false;\r\n    }\r\n\r\n    if (!password) {\r\n      errors.password = 'Password is required';\r\n      valid = false;\r\n    }\r\n\r\n    setErrors(errors);\r\n    return valid;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (validate()) {\r\n      try {\r\n        setSubmitting(true);\r\n        const data = {\r\n          email: email,\r\n          password: password,\r\n        }\r\n        console.log(data);\r\n        const response = await fetch('/api/auth/signin', {\r\n          method: 'POST',\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          }\r\n        }).then(d => d.json());\r\n        if (response.success) {\r\n          localStorage.setItem('incomingToast', 'Successfully signed in!');\r\n          if (response.data === \"admin\")\r\n            window.location.href = '/dashboard/home';\r\n          else window.location.href = \"/\";\r\n        } else {\r\n          setSubmitting(false);\r\n          toast.error(response.message, {\r\n            position: 'top-center',\r\n            style: {\r\n              fontSize: '12px',\r\n              padding: '8px',\r\n              borderRadius: '5px',\r\n            }\r\n          });\r\n        }\r\n\r\n      } catch (error) {\r\n        setSubmitting(false);\r\n        toast.error(\"Failed\", {\r\n          position: 'top-center',\r\n          style: {\r\n            fontSize: '12px',\r\n            padding: '8px',\r\n            borderRadius: '5px',\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen md:flex-row\">\r\n      <div className=\"relative w-full md:w-1/2 bg-gray-100\">\r\n        <Image\r\n          src=\"/image1.png\"\r\n          alt=\"Sign In Image\"\r\n          layout=\"fill\"\r\n          objectFit=\"cover\"\r\n          objectPosition=\"left\" // Keeps the left side in focus\r\n          className=\"absolute inset-0\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-center w-full bg-gray-100 md:w-1/2\">\r\n        <div className=\"w-full max-w-md p-8 bg-white rounded-lg shadow-lg\">\r\n          <h2 className=\"mb-6 text-2xl font-bold text-gray-800\">Sign In</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={handleEmailChange}\r\n                className=\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:border-blue-300 text-black\"\r\n              />\r\n              {\r\n                errors.email &&\r\n                (<p className=\"mt-2 text-sm text-red-500\">{errors.email}</p>)\r\n              }\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-gray-700\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={handlePasswordChange}\r\n                className=\"w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:border-blue-300 text-black\"\r\n              />\r\n              {errors.password && <p className=\"mt-1 text-sm text-red-500\">{errors.password}</p>}\r\n            </div>\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"w-full px-4 py-2 text-white bg-slate-500 rounded-lg shadow hover:bg-slate-600 focus:outline-none focus:ring focus:ring-blue-300 text-black\"\r\n              >\r\n                {!isSubmitting && <>Sign in</>}\r\n                {isSubmitting && <Spinner />}\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <div className='mt-2'>\r\n            <button\r\n              type=\"submit\"\r\n              onClick={() => {\r\n                localStorage.setItem(\"email\", email);\r\n                router.push(\"/auth/signinotp\")\r\n              }\r\n              }\r\n              className=\"w-full px-4 py-2 text-white bg-slate-500 rounded-lg shadow hover:bg-slate-600 focus:outline-none focus:ring focus:ring-blue-300 text-black\"\r\n            >\r\n              Sign in with OTP\r\n            </button>\r\n          </div>\r\n          {/* <div className='mt-2'>\r\n              <button\r\n                className=\"w-full px-4 py-2 flex items-center text-black bg-white border border-gray-300 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring focus:ring-blue-300\"\r\n                onClick={() => signIn('google')}\r\n              >\r\n                <img\r\n                  src=\"/google.png\"\r\n                  alt=\"Google logo\"\r\n                  className=\"w-6 h-6 mr-3\"\r\n                />\r\n                <span className=\"flex-1 text-center text-black\">Sign in with Google</span>\r\n              </button>\r\n          </div> */}\r\n          {/*Sign Up link*/}\r\n          <p className=\"mt-4 text-center text-gray-600\">\r\n            Don't have an account?{' '}\r\n            <a href=\"/auth/signup\">\r\n              <span className=\"text-slate-500 hover:underline\">Sign Up</span>\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <Toaster />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}