{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Medkart/Project1/Assignment1/online-product-management/src/components/CartContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from \"react\";\r\n\r\ninterface CartItem {\r\n  productId: string;\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n  image: string;\r\n}\r\n\r\ninterface CartContextType {\r\n  cart: CartItem[];\r\n  addToCart: (item: CartItem) => void;\r\n  removeFromCart: (productId: string) => void;\r\n  clearCart: () => void;\r\n}\r\n\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\nexport const CartProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [cart, setCart] = useState<CartItem[]>([]);\r\n\r\n  const addToCart = (item: CartItem) => {\r\n    setCart((prevCart) => {\r\n      const existingItem = prevCart.find((i) => i.productId === item.productId);\r\n      if (existingItem) {\r\n        return prevCart.map((i) =>\r\n          i.productId === item.productId\r\n            ? { ...i, quantity: i.quantity + item.quantity }\r\n            : i\r\n        );\r\n      }\r\n      return [...prevCart, item];\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (productId: string) => {\r\n    setCart((prevCart) => prevCart.filter((item) => item.productId !== productId));\r\n  };\r\n\r\n  const clearCart = () => setCart([]);\r\n\r\n  return (\r\n    <CartContext.Provider value={{ cart, addToCart, removeFromCart, clearCart }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = (): CartContextType => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error(\"useCart must be used within a CartProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAmBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAkD,CAAC,EAAE,QAAQ,EAAE;IAC1E,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAE/C,MAAM,YAAY,CAAC;QACjB,QAAQ,CAAC;YACP,MAAM,eAAe,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK,KAAK,SAAS;YACxE,IAAI,cAAc;gBAChB,OAAO,SAAS,GAAG,CAAC,CAAC,IACnB,EAAE,SAAS,KAAK,KAAK,SAAS,GAC1B;wBAAE,GAAG,CAAC;wBAAE,UAAU,EAAE,QAAQ,GAAG,KAAK,QAAQ;oBAAC,IAC7C;YAER;YACA,OAAO;mBAAI;gBAAU;aAAK;QAC5B;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAC,WAAa,SAAS,MAAM,CAAC,CAAC,OAAS,KAAK,SAAS,KAAK;IACrE;IAEA,MAAM,YAAY,IAAM,QAAQ,EAAE;IAElC,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAW;YAAgB;QAAU;kBACvE;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Medkart/Project1/Assignment1/online-product-management/src/app/viewproducts/%5BwsCode%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { useCart } from \"../../../components/CartContext\"\r\nimport Image from \"next/image\";\r\nimport { Product } from \"@prisma/client\";\r\n\r\nconst ProductDetail: React.FC = () => {\r\n  const params = useParams();\r\n  const wsCode = params.wsCode; \r\n  const { addToCart } = useCart();\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (wsCode) {\r\n      // Fetch product details by wsCode\r\n      const fetchProduct = async () => {\r\n        try {\r\n          const response = await fetch(`/api/products/${wsCode}`);\r\n          const data = await response.json();\r\n          setProduct(data); // Assume the API returns the product object\r\n        } catch (error) {\r\n          console.error('Error fetching product details:', error);\r\n        }\r\n      };\r\n      fetchProduct();\r\n    }\r\n  }, [wsCode]);\r\n\r\n  if (!product) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  const handleAddToCart = () => {\r\n    addToCart({\r\n      productId: product.wsCode.toString(),\r\n      name: product.name,\r\n      price: product.salesPrice,\r\n      quantity: 1,\r\n      image: product.images[0] || \"/default-image.jpg\",\r\n    });\r\n    alert(\"Product added to cart!\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\">\r\n      <Image\r\n        src={product.images[0] || \"/default-image.jpg\"}\r\n        alt={product.name}\r\n        width={400}\r\n        height={400}\r\n        className=\"object-cover\"\r\n      />\r\n      <h1 className=\"text-2xl font-bold\">{product.name}</h1>\r\n      <p className=\"text-lg text-gray-600\">${product.salesPrice}</p>\r\n      <button\r\n        onClick={handleAddToCart}\r\n        className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg\"\r\n      >\r\n        Add to Cart\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQA,MAAM,gBAA0B;IAC9B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,OAAO,MAAM;IAC5B,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IAEvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,kCAAkC;YAClC,MAAM,eAAe;gBACnB,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM,CAAC,cAAc,EAAE,QAAQ;oBACtD,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,WAAW,OAAO,4CAA4C;gBAChE,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,mCAAmC;gBACnD;YACF;YACA;QACF;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,SAAS;QACZ,qBAAO,8OAAC;sBAAI;;;;;;IACd;IACA,MAAM,kBAAkB;QACtB,UAAU;YACR,WAAW,QAAQ,MAAM,CAAC,QAAQ;YAClC,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,UAAU;YACzB,UAAU;YACV,OAAO,QAAQ,MAAM,CAAC,EAAE,IAAI;QAC9B;QACA,MAAM;IACR;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6HAAA,CAAA,UAAK;gBACJ,KAAK,QAAQ,MAAM,CAAC,EAAE,IAAI;gBAC1B,KAAK,QAAQ,IAAI;gBACjB,OAAO;gBACP,QAAQ;gBACR,WAAU;;;;;;0BAEZ,8OAAC;gBAAG,WAAU;0BAAsB,QAAQ,IAAI;;;;;;0BAChD,8OAAC;gBAAE,WAAU;;oBAAwB;oBAAE,QAAQ,UAAU;;;;;;;0BACzD,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP;uCAEe"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}