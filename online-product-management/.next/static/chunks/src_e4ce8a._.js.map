{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Assignment1/online-product-management/src/components/Layout/Spinner.tsx"],"sourcesContent":["import React from 'react'\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <>Loading...\r\n      <div\r\n        className=\"inline-block h-4 w-4 ml-3 animate-spin rounded-full border-2 border-solid border-current border-e-transparent align-[-0.125em] text-surface motion-reduce:animate-[spin_1.5s_linear_infinite] dark:text-white\"\r\n        role=\"status\">\r\n        <span\r\n          className=\"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\"\r\n        ></span>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Spinner"],"names":[],"mappings":";;;;;AAEA,SAAS;IACP,qBACE;;YAAE;0BACA,6LAAC;gBACC,WAAU;gBACV,MAAK;0BACL,cAAA,6LAAC;oBACC,WAAU;;;;;;;;;;;;;AAKpB;KAZS;uCAcM"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/HP/Assignment1/online-product-management/src/components/Dashboard/Products/ProductDataDashboard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport toast from \"react-hot-toast\";\r\nimport { FaTrashAlt, FaRegEye } from \"react-icons/fa\";\r\nimport { MdOutlineEdit } from \"react-icons/md\";\r\nimport Spinner from \"@/components/Layout/Spinner\";\r\nimport { IoCloseSharp } from \"react-icons/io5\";\r\n\r\ninterface ProductDashboardProps {\r\n  products: {\r\n    wsCode: number;\r\n    name: string;\r\n    salesPrice: number;\r\n    mrp: number;\r\n    packageSize: number;\r\n    category: string | null;\r\n    tags: string[];\r\n    enabled: boolean;\r\n  }[];\r\n}\r\n\r\nconst ProductDashboard: React.FC<ProductDashboardProps> = ({ products }) => {\r\n  const [productState, setProductState] = useState(products);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(5);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [deleteProductWsCode, setDeleteProductWsCode] = useState<number | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const pathname = usePathname();\r\n\r\n  const indexOfLastProduct = currentPage * itemsPerPage;\r\n  const indexOfFirstProduct = indexOfLastProduct - itemsPerPage;\r\n  const currentProducts = productState.slice(indexOfFirstProduct, indexOfLastProduct);\r\n  const totalPages = Math.ceil(productState.length / itemsPerPage);\r\n\r\n  const handleDelete = async (wsCode: number) => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`/api/admin/products/${wsCode}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setProductState(productState.filter((product) => product.wsCode !== wsCode));\r\n        toast.success(data.message);\r\n        setIsDeleteModalOpen(false);\r\n      } else {\r\n        toast.error(data.message || \"Failed to delete product.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting product:\", error);\r\n      toast.error(\"An error occurred while deleting the product.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (wsCode: number, newStatus: boolean) => {\r\n    try {\r\n      const response = await fetch(`/api/admin/products/${wsCode}/toggle`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ enabled: !newStatus }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        toast.success(`Product ${newStatus ? \"Disabled\" : \"Enabled\"} Successfully`);\r\n        setProductState((prev) =>\r\n          prev.map((product) =>\r\n            product.wsCode === wsCode ? { ...product, enabled: !product.enabled } : product\r\n          )\r\n        );\r\n      } else {\r\n        toast.error(\"Failed to toggle product status.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error toggling product status:\", error);\r\n      toast.error(\"An error occurred while toggling product status.\");\r\n    }\r\n  };\r\n\r\n  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);\r\n\r\n  return (\r\n    <div>\r\n      <dialog className={isDeleteModalOpen ? \"modal modal-open\" : \"modal\"}>\r\n        <div className=\"modal-box\">\r\n          <form method=\"dialog\">\r\n            <button\r\n              className=\"btn btn-sm btn-circle btn-ghost absolute right-2 top-2\"\r\n              aria-label=\"Close\"\r\n              onClick={() => setIsDeleteModalOpen(false)}\r\n            >\r\n              <IoCloseSharp />\r\n            </button>\r\n          </form>\r\n          <h2 className=\"text-lg font-bold\">Confirm Deletion</h2>\r\n          <p>Are you sure you want to delete this product?</p>\r\n          <div className=\"mt-4 flex justify-end\">\r\n            <button\r\n              className=\"btn btn-primary hover:btn-error hover:text-white\"\r\n              onClick={() => deleteProductWsCode && handleDelete(deleteProductWsCode)}\r\n            >\r\n              {loading ? <Spinner /> : \"Delete\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </dialog>\r\n\r\n      <div className=\"m-5 rounded-md bg-slate-100 p-5\">\r\n        <h1 className=\"text-xl font-bold\">Product Management</h1>\r\n        <p className=\"my-5 text-sm\">\r\n          Manage your products effectively by adding, editing, or deleting them as needed.\r\n          You can also toggle product availability for better inventory control.\r\n        </p>\r\n        <table className=\"table table-auto shadow-md overflow-hidden rounded-lg bg-white w-full\">\r\n          <thead className=\"bg-slate-700 text-white\">\r\n            <tr>\r\n              <th className=\"text-center\">Sr No</th>\r\n              <th className=\"text-center\">Name</th>\r\n              <th className=\"text-center\">WS Code</th>\r\n              <th className=\"text-center\">Sales Price</th>\r\n              <th className=\"text-center\">MRP</th>\r\n              <th className=\"text-center\">Status</th>\r\n              <th className=\"text-center\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {currentProducts.map((product, index) => (\r\n              <tr key={product.wsCode}>\r\n                <td className=\"text-center\">{indexOfFirstProduct + index + 1}</td>\r\n                <td className=\"text-center\">{product.name}</td>\r\n                <td className=\"text-center\">{product.wsCode}</td>\r\n                <td className=\"text-center\">{product.salesPrice}</td>\r\n                <td className=\"text-center\">{product.mrp}</td>\r\n                <td className=\"text-center\">\r\n                  <span\r\n                    className={`badge ${\r\n                      product.enabled ? \"badge-success\" : \"badge-error\"\r\n                    }`}\r\n                  >\r\n                    {product.enabled ? \"Active\" : \"Inactive\"}\r\n                  </span>\r\n                </td>\r\n                <td className=\"text-center\">\r\n                  <a href={`${pathname}/${product.wsCode}`}>\r\n                    <button className=\"btn btn-sm bg-blue-500 text-white hover:bg-blue-700 mr-2\">\r\n                      <MdOutlineEdit />\r\n                    </button>\r\n                  </a>\r\n                  <button\r\n                    className=\"btn btn-sm bg-red-500 text-white hover:bg-red-700 mr-2\"\r\n                    onClick={() => {\r\n                      setIsDeleteModalOpen(true);\r\n                      setDeleteProductWsCode(product.wsCode);\r\n                    }}\r\n                  >\r\n                    <FaTrashAlt />\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-sm bg-green-500 text-white hover:bg-green-700\"\r\n                    onClick={() =>\r\n                      handleToggleStatus(product.wsCode, product.enabled)\r\n                    }\r\n                  >\r\n                    {product.enabled ? \"Disable\" : \"Enable\"}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div className=\"flex justify-between items-center mt-4\">\r\n          <div>\r\n            <button\r\n              className=\"btn-sm mr-6 rounded-md bg-slate-700 text-white\"\r\n              onClick={() => paginate(currentPage - 1)}\r\n              disabled={currentPage === 1}\r\n            >\r\n              Previous\r\n            </button>\r\n            <span>\r\n              Page {currentPage} of {totalPages}\r\n            </span>\r\n            <button\r\n              className=\"ml-6 btn-sm rounded-md bg-slate-700 text-white\"\r\n              onClick={() => paginate(currentPage + 1)}\r\n              disabled={currentPage === totalPages}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n          <p className=\"font-bold\">Total Products: {productState.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDashboard;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAGA;AACA;AAFA;AADA;;;AALA;;;;;;;;AAuBA,MAAM,mBAAoD,CAAC,EAAE,QAAQ,EAAE;;IACrE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAChC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAC9E,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,qBAAqB,cAAc;IACzC,MAAM,sBAAsB,qBAAqB;IACjD,MAAM,kBAAkB,aAAa,KAAK,CAAC,qBAAqB;IAChE,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa,MAAM,GAAG;IAEnD,MAAM,eAAe,OAAO;QAC1B,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,oBAAoB,EAAE,QAAQ,EAAE;gBAC5D,QAAQ;YACV;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,EAAE;gBACf,gBAAgB,aAAa,MAAM,CAAC,CAAC,UAAY,QAAQ,MAAM,KAAK;gBACpE,0JAAA,CAAA,UAAK,CAAC,OAAO,CAAC,KAAK,OAAO;gBAC1B,qBAAqB;YACvB,OAAO;gBACL,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC,KAAK,OAAO,IAAI;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,qBAAqB,OAAO,QAAgB;QAChD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,oBAAoB,EAAE,OAAO,OAAO,CAAC,EAAE;gBACnE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS,CAAC;gBAAU;YAC7C;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,0JAAA,CAAA,UAAK,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,YAAY,aAAa,UAAU,aAAa,CAAC;gBAC1E,gBAAgB,CAAC,OACf,KAAK,GAAG,CAAC,CAAC,UACR,QAAQ,MAAM,KAAK,SAAS;4BAAE,GAAG,OAAO;4BAAE,SAAS,CAAC,QAAQ,OAAO;wBAAC,IAAI;YAG9E,OAAO;gBACL,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;YAChD,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,WAAW,CAAC,aAAuB,eAAe;IAExD,qBACE,6LAAC;;0BACC,6LAAC;gBAAO,WAAW,oBAAoB,qBAAqB;0BAC1D,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,QAAO;sCACX,cAAA,6LAAC;gCACC,WAAU;gCACV,cAAW;gCACX,SAAS,IAAM,qBAAqB;0CAEpC,cAAA,6LAAC,kJAAA,CAAA,eAAY;;;;;;;;;;;;;;;sCAGjB,6LAAC;4BAAG,WAAU;sCAAoB;;;;;;sCAClC,6LAAC;sCAAE;;;;;;sCACH,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,WAAU;gCACV,SAAS,IAAM,uBAAuB,aAAa;0CAElD,wBAAU,6LAAC,0IAAA,CAAA,UAAO;;;;2CAAM;;;;;;;;;;;;;;;;;;;;;;0BAMjC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,6LAAC;wBAAE,WAAU;kCAAe;;;;;;kCAI5B,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;gCAAM,WAAU;0CACf,cAAA,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;sDAC5B,6LAAC;4CAAG,WAAU;sDAAc;;;;;;;;;;;;;;;;;0CAGhC,6LAAC;0CACE,gBAAgB,GAAG,CAAC,CAAC,SAAS,sBAC7B,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAe,sBAAsB,QAAQ;;;;;;0DAC3D,6LAAC;gDAAG,WAAU;0DAAe,QAAQ,IAAI;;;;;;0DACzC,6LAAC;gDAAG,WAAU;0DAAe,QAAQ,MAAM;;;;;;0DAC3C,6LAAC;gDAAG,WAAU;0DAAe,QAAQ,UAAU;;;;;;0DAC/C,6LAAC;gDAAG,WAAU;0DAAe,QAAQ,GAAG;;;;;;0DACxC,6LAAC;gDAAG,WAAU;0DACZ,cAAA,6LAAC;oDACC,WAAW,CAAC,MAAM,EAChB,QAAQ,OAAO,GAAG,kBAAkB,eACpC;8DAED,QAAQ,OAAO,GAAG,WAAW;;;;;;;;;;;0DAGlC,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAE,MAAM,GAAG,SAAS,CAAC,EAAE,QAAQ,MAAM,EAAE;kEACtC,cAAA,6LAAC;4DAAO,WAAU;sEAChB,cAAA,6LAAC,iJAAA,CAAA,gBAAa;;;;;;;;;;;;;;;kEAGlB,6LAAC;wDACC,WAAU;wDACV,SAAS;4DACP,qBAAqB;4DACrB,uBAAuB,QAAQ,MAAM;wDACvC;kEAEA,cAAA,6LAAC,iJAAA,CAAA,aAAU;;;;;;;;;;kEAEb,6LAAC;wDACC,WAAU;wDACV,SAAS,IACP,mBAAmB,QAAQ,MAAM,EAAE,QAAQ,OAAO;kEAGnD,QAAQ,OAAO,GAAG,YAAY;;;;;;;;;;;;;uCApC5B,QAAQ,MAAM;;;;;;;;;;;;;;;;kCA2C7B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCACC,WAAU;wCACV,SAAS,IAAM,SAAS,cAAc;wCACtC,UAAU,gBAAgB;kDAC3B;;;;;;kDAGD,6LAAC;;4CAAK;4CACE;4CAAY;4CAAK;;;;;;;kDAEzB,6LAAC;wCACC,WAAU;wCACV,SAAS,IAAM,SAAS,cAAc;wCACtC,UAAU,gBAAgB;kDAC3B;;;;;;;;;;;;0CAIH,6LAAC;gCAAE,WAAU;;oCAAY;oCAAiB,aAAa,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;AAKvE;GAnLM;;QAOa,qIAAA,CAAA,cAAW;;;KAPxB;uCAqLS"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}